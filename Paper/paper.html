<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
  <meta charset="utf-8">
  <meta name="generator" content="quarto-0.9.188">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>paper</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>

  <script src="paper_files/libs/clipboard/clipboard.min.js"></script>
  <script src="paper_files/libs/quarto-html/quarto.js"></script>
  <script src="paper_files/libs/quarto-html/popper.min.js"></script>
  <script src="paper_files/libs/quarto-html/tippy.umd.min.js"></script>
  <script src="paper_files/libs/quarto-html/anchor.min.js"></script>
  <link href="paper_files/libs/quarto-html/tippy.css" rel="stylesheet">
  <link id="quarto-text-highlighting-styles" href="paper_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet">
  <script src="paper_files/libs/bootstrap/bootstrap.min.js"></script>
  <link href="paper_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
  <link href="paper_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body class="fullcontent">
<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="sourceCode python cell-code code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="op">---</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>title: <span class="st">"Determining optimal shot selection strategy in Super Netball's Power 5 period via numerical simulation"</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="bu">format</span>:</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    html:</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>        code<span class="op">-</span>fold: true</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>jupyter: python3</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="op">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="17">
<div class="sourceCode" id="cb2"><pre class="sourceCode python cell-code code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Load the necessary libraries to run analysis</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> scipy.stats <span class="im">as</span> stats</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> random</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="abstract" class="level1">
<h1>Abstract</h1>
<p>TODO: insert abstract…</p>
</section>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Netball is a court-based team sport played predominantly among Commonwealth nations, and has one of the highest participation rates for team sports in Australia <span class="citation" data-cites="AustralianSportsCommission2020">[@AustralianSportsCommission2020]</span>. As in many court-based team sports, the goal of netball is to score more than the opposition. Netball is, however, unique in that goals may only be scored by two players on each team from within the ‘shooting circle’ (i.e.&nbsp;a half circle around the goal with a 4.9m radius) at their end of the court <span class="citation" data-cites="INFrules">[@INFrules]</span>. Traditionally, goals scored from within this circle result in one goal for the team <span class="citation" data-cites="INFrules">[@INFrules]</span>. In the 2020 season, Australia’s national elite-level league (i.e.&nbsp;Suncorp Super Netball) made the decision to introduce the ‘Super Shot’ <span class="citation" data-cites="NetballAusSuperShotIntro">[@NetballAusSuperShotIntro]</span>. The Super Shot period provided teams an opportunity to gain one- versus two-goals for successful shots made from the ‘inner’ (i.e.&nbsp;0m-3.0m) versus ‘outer’ (i.e.&nbsp;3.0m-4.9m) circles, respectively, within the final five minutes of each quarter (i.e.&nbsp;the Power 5 period) <span class="citation" data-cites="NetballAusSuperShotIntro">[@NetballAusSuperShotIntro]</span>. The rule has remained in place over subsequent seasons since the 2020 inception.</p>
<p>Our analysis prior to the 2020 season <span class="citation" data-cites="Fox2020">[@Fox2020]</span> suggested that the added value of the Super Shot (i.e.&nbsp;two-goals) aligned well with the elevated risk of shooting from long range, and that teams may have been able to maximise their scoring by taking a high proportion of Super Shots. These findings were, however, based on shooting statistics from a past season where the Super Shot rule was not in effect. Further investigation of netball competitions where a ‘two-goal rule’ was in place (i.e.&nbsp;international Fast5) resulted in a much higher risk of missing long-range shots <span class="citation" data-cites="Fox2020">[@Fox2020]</span>. We hypothesised that the elevated risk of missing long-range shots with a ‘two-goal rule’ in place stems from situational factors, whereby defensive strategies were likely altered to place a heavier emphasis on defending long-range shots <span class="citation" data-cites="Fox2020">[@Fox2020]</span>. Data from the early years of the Super Shot in place provides an opportunity to re-evaluate the risk:reward value of taking Super Shots with more valid shooting statistics. Further, these data can provide a better foundation for simulating Super Shot periods as a means to identify optimal shooting strategies. In the present study, we firstly re-visited our analysis of whether the 2:1 goal weighting is appropriate based on the relative risk of missing a shot from the outer versus inner circle during the Power 5 period using data from the 2020-2022 seasons. Second, we ran simulations of the Power 5 period using shooting statistics from the 2020-2022 seasons for each team individually in an attempt to identify optimal team-specific shooting strategies for the proportion of Super Shots to take. Third, we ran simulations of teams competing against one another during a Power 5 period to determine how varying the proportion of Super Shots could impact scoring margin.</p>
</section>
<section id="methods" class="level1">
<h1>Methods</h1>
<section id="participants" class="level2">
<h2 class="anchored" data-anchor-id="participants">Participants</h2>
<p>Participants for this study included all players across the eight teams from the 2020-2022 seasons season of the Australian national netball league (i.e.&nbsp;Suncorp Super Netball). Our study included publicly available, pre-existing data held on the Suncorp Super Netball match centre. An exemption from ethics review was granted by the Deakin University Human Research Ethics Committee (<strong><em>TODO: add details</em></strong>).</p>
</section>
<section id="data-collection" class="level2">
<h2 class="anchored" data-anchor-id="data-collection">Data Collection</h2>
<p>We used the <strong><em>{SuperNetballR}</em></strong> (<strong><em>TODO: citation</em></strong>) package to extract match data from all regular season games during the 2020-2022 Super Netball Seasons via the Champion Data (official provider of competition statistics) match centre. Within the match centre data – all shots are labelled with identifiers that place them in the inner or outer circle, along with whether they were made or missed. Combined with the timestamp of these events within quarters, we extracted team-specific shooting statistics for: (i) the total number of shots taken; (ii) the number of shots taken from the inner and outer circle; and (iii) the number of made and missed shots from the inner and outer circle from each Power 5 period across matches.</p>
</section>
<section id="data-analysis" class="level2">
<h2 class="anchored" data-anchor-id="data-analysis">Data Analysis</h2>
<p>Our study required estimating the probability of making versus missing shots from the inner versus outer circle across the different teams. We achieved this by defining a beta distribution in a probability density function for the different circle zones, specified by:</p>
<p><span class="math display">\[f(x,a,b) = \frac{\Gamma(a+b)x^{a-1}(1-x)^{b-1}}{\Gamma(a)\Gamma(b)} \]</span></p>
<p>where <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> represent the number of missed and made shots within a circle zone, respectively; <span class="math inline">\(x\)</span> is the probability of <span class="math inline">\(a\)</span> relative to <span class="math inline">\(b\)</span>; and <span class="math inline">\(\Gamma\)</span> is the gamma function <span class="citation" data-cites="Virtanen2020">[@Virtanen2020,@NIST2020]</span>. Probability density functions were created for made versus missed shots in the inner and outer circles for each team, as well as all teams combined, to be used in subsequent analyses.</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode" id="cb3"><pre class="sourceCode python cell-code code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Load in the team shooting data files</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>scoreFlowData <span class="op">=</span> pd.read_csv(<span class="st">'..</span><span class="ch">\\</span><span class="st">Data</span><span class="ch">\\</span><span class="st">scoreFlowSuper.csv'</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>teamSuperCounts <span class="op">=</span> pd.read_csv(<span class="st">'..</span><span class="ch">\\</span><span class="st">Data</span><span class="ch">\\</span><span class="st">teamSuperCounts.csv'</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>oppSuperCounts <span class="op">=</span> pd.read_csv(<span class="st">'..</span><span class="ch">\\</span><span class="st">Data</span><span class="ch">\\</span><span class="st">oppSuperCounts.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To examine the relative value of the 2:1 point ratio, we replicated the approach from our previous work <span class="citation" data-cites="Fox2020">[@Fox2020]</span>, but this time with data from the 2020-2022 seasons. Specifically, we compared the average relative odds (± 95% confidence intervals [CI]) of missing from the outer versus inner circle during the Power 5 period. This was achieved by dividing randomly sampled values (<em>n</em> = 100,000) from the probability density functions of the outer by those from the inner circle at each sample iteration <span class="citation" data-cites="Fox2020">[@Fox2020]</span>. This analysis was run using shooting statistics from the entire league as well as individual teams to give overall and team-specific risk:reward values for attempting Super Shots. We also applied this analysis to opposition shooting statistics against each team, providing a risk:reward value for attempting Super Shots against an opponent. Theoretically, the relative odds of missing from the outer to inner circle should match the ratio of points awarded (i.e.&nbsp;2:1) for the Super Shot to represent ‘good value.’</p>
<div class="cell" data-execution_count="24">
<div class="sourceCode" id="cb4"><pre class="sourceCode python cell-code code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">####### Run analysis in .py script and just present here...</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Set a check in place whether to run this analysis or load data in from previous run</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>runRelOdds <span class="op">=</span> <span class="va">True</span> <span class="co">####change to false to load in existing data</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co">#Set number of trials to run</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>nRelOddsTrials <span class="op">=</span> <span class="dv">100000</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="co">#Run analysis</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> runRelOdds:</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Set a dictionary to store data in</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    relOddsData <span class="op">=</span> {<span class="st">'squadId'</span>: [], <span class="st">'mean'</span>: [], <span class="st">'lower95'</span>: [], <span class="st">'upper95'</span>: []}</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    relOddsDefData <span class="op">=</span> {<span class="st">'squadId'</span>: [], <span class="st">'mean'</span>: [], <span class="st">'lower95'</span>: [], <span class="st">'upper95'</span>: []}</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Run through first iteration using all teams data</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Set seed</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>    np.random.seed(<span class="dv">12345</span>)</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Group by shot type to create sums</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>    shotSums <span class="op">=</span> teamSuperCounts.groupby(<span class="st">'scoreName'</span>).<span class="bu">sum</span>()</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Create the beta distributions for inner and outercircle</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>    betaInner <span class="op">=</span> stats.beta(shotSums[<span class="st">'shotCount'</span>][<span class="st">'miss'</span>], shotSums[<span class="st">'shotCount'</span>][<span class="st">'goal'</span>])</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>    betaOuter <span class="op">=</span> stats.beta(shotSums[<span class="st">'shotCount'</span>][<span class="st">'2pt Miss'</span>], shotSums[<span class="st">'shotCount'</span>][<span class="st">'2pt Goal'</span>])</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Sample values from beta distributions</span></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>    valsInner <span class="op">=</span> np.random.beta(shotSums[<span class="st">'shotCount'</span>][<span class="st">'miss'</span>], shotSums[<span class="st">'shotCount'</span>][<span class="st">'goal'</span>],</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>                              size <span class="op">=</span> nRelOddsTrials)</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>    valsOuter <span class="op">=</span> np.random.beta(shotSums[<span class="st">'shotCount'</span>][<span class="st">'2pt Miss'</span>], shotSums[<span class="st">'shotCount'</span>][<span class="st">'2pt Goal'</span>],</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>                              size <span class="op">=</span> nRelOddsTrials)</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Determine relative odds of missing from outer to inner circle</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>    sampleRatios <span class="op">=</span> valsOuter <span class="op">/</span> valsInner</span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Create values for empirical cumulative distribution function</span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>    cdfSplit_x <span class="op">=</span> np.sort(sampleRatios)</span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>    cdfSplit_y <span class="op">=</span> np.arange(<span class="dv">1</span>, nRelOddsTrials<span class="op">+</span><span class="dv">1</span>) <span class="op">/</span> nRelOddsTrials</span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Calculate confidence intervals of the cumulative distribution function</span></span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Find where the CDF y-values equal 0.05/0.95, or the closest index to this,</span></span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>    <span class="co">#and grab that index of the x-values</span></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>    lower95ind <span class="op">=</span> np.where(cdfSplit_y <span class="op">==</span> <span class="fl">0.05</span>)[<span class="dv">0</span>][<span class="dv">0</span>]</span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>    upper95ind <span class="op">=</span> np.where(cdfSplit_y <span class="op">==</span> <span class="fl">0.95</span>)[<span class="dv">0</span>][<span class="dv">0</span>]</span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>    ci95_lower <span class="op">=</span> cdfSplit_x[lower95ind]</span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>    ci95_upper <span class="op">=</span> cdfSplit_x[upper95ind]</span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Store values in dictionary</span></span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>    relOddsData[<span class="st">'squadId'</span>].append(<span class="st">'all'</span>)</span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>    relOddsData[<span class="st">'mean'</span>].append(sampleRatios.mean())</span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>    relOddsData[<span class="st">'lower95'</span>].append(ci95_lower)</span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>    relOddsData[<span class="st">'upper95'</span>].append(ci95_upper)</span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Repeat analysis looping through teams</span></span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a>    squad <span class="op">=</span> <span class="st">'Fever'</span></span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a>    shotSums <span class="op">=</span> teamSuperCounts.groupby([<span class="st">'squadId'</span>,<span class="st">'scoreName'</span>]).<span class="bu">sum</span>()</span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a>    shotSums[<span class="st">'shotCount'</span>][<span class="st">'Fever'</span>][<span class="st">'goal'</span>]</span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a>    </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display" data-execution_count="24">
<pre><code>783</code></pre>
</div>
</div>
<p><strong><em>TODO: consider same simulation approach but with ‘tendency’ as a parameter - a more random indication of whether the shot will be taken as a standard or Super (no to all out tendency being 0%, 25%, 50%, 75% and 100% likelihoods) - this becomes a categorical parameter over a continuous parameter of shot proportion. Normalise the data from these simulations to no Super Shots, and investigate the goal benefit (or detriment) of changing Super Shot tendency relative to this.</em></strong></p>
<p>Next we ran a series of simulations (<em>n</em> = 1,000 each) of the Power 5 period for each team, altering the proportion of Super Shots taken from 0% to 100% at 10% increments. We used the previously calculated probabilities of making versus missing shots from within and outside the outer circle during the Power 5 period from each team to estimate the number of goals the team may score during this period. Across each individual simulation, the total number of shots and the proportion of these that were Super Shots was varied. We calculated the mean and standard deviation for the number of shots a team would expect during a Power 5 period based on overall season statistics — and the total number of shots for a team in a given simulation was randomly sampled from a truncated normal distribution between the lower and upper 95% CI limits of the mean/standard deviation. The number of standard versus Super Shots being taken within the simulation was then determined based on the current Super Shot proportion (i.e.&nbsp;from 0% to 100%) being examined. The success (i.e.&nbsp;make vs.&nbsp;miss) of each individual standard or Super Shot within the simulation was then determined by generating a random value between 0 and 1, alongside a value sampled from the teams relevant probability density function of making a shot from the relevant location (i.e.&nbsp;inner or outer circle). If the value sampled from the probability density function was greater versus lower than the random value — the shot was considered successful versus unsuccessful, respectively. After all individual shots were simulated, the total team score was summed given the value of the made standard and Super shots. We used linear regression models separately for each team to understand the effect of the total number of shots and proportion of these that were Super Shots taken (i.e.&nbsp;independent variables) on total score (i.e.&nbsp;dependent variable).</p>
<p><strong><em>TODO: take similar approach to above and include a ‘tendency’ variable - figure out a way to test the effectiveness of tendency against other approaches</em></strong></p>
<p>A similar approach was taken in generating ‘competitive’ simulations of Power 5 periods. A series of simulations (<em>n</em> = 1,000) of Power 5 periods were ran between all combinations of teams. We once again used the probabilities of making versus missing shots from the inner and outer circles during the Power 5 period from each team to estimate scoring. To isolate the effect of Super Shot proportion, we matched the number of shots each team took in the simulations. We used the same truncated normal distribution mentioned in the previous section to select the matched number of shots each team would receive in the simulation. Each series of 1,000 simulations was repeatedly ran between all combinations of teams while altering the proportion of Super versus standard shots. For brevity in these simulations, the proportion of Super Shots taken by each team was altered from 0% to 100% at 25% increments - with every possible combination between teams simulated. Shot success was determined in the same manner as previously outlined (i.e.&nbsp;random number generator vs.&nbsp;value sampled from the teams shot success probability distribution). After the shots from both teams were simulated, each teams score was summed given the value of made standard and Super shots and the subsequent margin determined. We used a single linear regression model to understand the effect of the relative proportion of Super Shots taken between teams (i.e.&nbsp;independent variable) on margin (i.e.&nbsp;dependent variable).</p>

</section>
</section>
</main>
<!-- /main column -->
<script type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    setTimeout(function() {
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->


</body></html>